(()=>{var __webpack_modules__={"./src/js/backoffice.js":()=>{eval('{/**\n * Backoffice Scripts - TinyMCE Plugins\n *\n * @package churchill\n */\n\n(function () {\n  "use strict";\n\n  /**\n   * V√©rifier si TinyMCE est disponible\n   */\n  function isTinyMCEReady() {\n    return typeof tinymce !== "undefined" && tinymce.PluginManager;\n  }\n\n  /**\n   * Initialiser tous les plugins TinyMCE\n   */\n  function initTinyMCEPlugins() {\n    console.log("üîß Churchill TinyMCE Plugins - Initialisation...");\n\n    // =========================================\n    // PLUGIN : Bouton\n    // =========================================\n    tinymce.PluginManager.add("add_mce_shortcode_button", function (editor, url) {\n      editor.addButton("add_mce_shortcode_button", {\n        text: "Bouton",\n        title: "",\n        icon: "mce-ico mce-i-link",\n        onclick: function onclick() {\n          var wptExtLinkGetSelection = tinyMCE.activeEditor.selection;\n          var wptExtLinkSelectedText = wptExtLinkGetSelection.getContent({\n            format: "text"\n          });\n          var wptExtLinkGetHref = wptExtLinkGetSelection.getNode().getAttribute("href");\n          var wptExtLinkGetTarget = wptExtLinkGetSelection.getNode().getAttribute("target");\n          var wptExtLinkGetDownload = wptExtLinkGetSelection.getNode().getAttribute("download");\n          var wptexl_TargetChecked = !!wptExtLinkGetTarget;\n          var wptexl_DownloadChecked = !!wptExtLinkGetDownload;\n          editor.windowManager.open({\n            title: "Ins√©rer un bouton",\n            body: [{\n              type: "listbox",\n              name: "wptexl_ButtonType",\n              label: "Style",\n              disabled: false,\n              values: [{\n                text: "Bleu fonc√©",\n                value: "dark"\n              }, {\n                text: "Bleu clair",\n                value: "blue"\n              }]\n            }, {\n              type: "textbox",\n              name: "wptexl_LinkText",\n              label: "Texte",\n              value: wptExtLinkSelectedText,\n              minWidth: 600\n            }, {\n              type: "textbox",\n              name: "wptexl_URL",\n              label: "URL",\n              value: wptExtLinkGetHref,\n              minWidth: 600\n            }, {\n              type: "checkbox",\n              name: "wptexl_Target",\n              label: "Ouvrir dans un nouvel onglet",\n              maxWidth: 30,\n              checked: wptexl_TargetChecked\n            }, {\n              type: "checkbox",\n              name: "wptexl_Download",\n              label: "Proposer le t√©l√©chargement",\n              maxWidth: 30,\n              tooltip: "T√©l√©chargement direct si le lien est un fichier",\n              checked: wptexl_DownloadChecked\n            }],\n            onsubmit: function onsubmit(e) {\n              var wptexlAttrTarget = e.data.wptexl_Target === true ? \'new_tab="true"\' : "";\n              var wptexlAttrDownload = e.data.wptexl_Download === true ? \'download="true"\' : "";\n              editor.insertContent(\'[button class="\' + e.data.wptexl_ButtonType + \'" text="\' + e.data.wptexl_LinkText + \'" href="\' + e.data.wptexl_URL + \'" \' + wptexlAttrDownload + " " + wptexlAttrTarget + "]");\n            }\n          });\n        }\n      });\n    });\n\n    // =========================================\n    // PLUGIN : Tableau\n    // =========================================\n    tinymce.PluginManager.add("add_mce_shortcode_table", function (editor, url) {\n      editor.addButton("add_mce_shortcode_table", {\n        text: "Tableau",\n        title: "",\n        icon: "mce-ico mce-i-alignjustify",\n        onclick: function onclick() {\n          editor.windowManager.open({\n            title: "Ins√©rer un tableau",\n            body: [{\n              type: "listbox",\n              name: "wptexl_TableID",\n              label: "Tableau",\n              disabled: false,\n              values: typeof php_vars !== "undefined" && php_vars.tables ? php_vars.tables : []\n            }],\n            onsubmit: function onsubmit(e) {\n              editor.insertContent(\'[table id="\' + e.data.wptexl_TableID + \'"]\');\n            }\n          });\n        }\n      });\n    });\n\n    // =========================================\n    // PLUGIN : Vid√©o\n    // =========================================\n    tinymce.PluginManager.add("add_mce_shortcode_video", function (editor, url) {\n      editor.addButton("add_mce_shortcode_video", {\n        text: "Vid√©o",\n        title: "",\n        icon: "mce-ico mce-i-wp-media-library",\n        onclick: function onclick() {\n          editor.windowManager.open({\n            title: "Ins√©rer une vid√©o",\n            body: [{\n              type: "textbox",\n              name: "wptexl_UrlVideo",\n              label: "URL de la vid√©o",\n              minWidth: 600\n            }, {\n              type: "textbox",\n              name: "wptexl_Image",\n              label: "URL de l\'image de couverture",\n              minWidth: 600\n            }],\n            onsubmit: function onsubmit(e) {\n              editor.insertContent(\'[modal_video url="\' + e.data.wptexl_UrlVideo + \'" image="\' + e.data.wptexl_Image + \'"]\');\n            }\n          });\n        }\n      });\n    });\n\n    // =========================================\n    // PLUGIN : √âtapes\n    // =========================================\n    tinymce.PluginManager.add("add_mce_shortcode_steps", function (editor, url) {\n      editor.addButton("add_mce_shortcode_steps", {\n        text: "Etape",\n        title: "",\n        icon: "mce-ico mce-i-numlist",\n        onclick: function onclick() {\n          editor.windowManager.open({\n            title: "Ins√©rer une √©tape",\n            body: [{\n              type: "textbox",\n              name: "wptexl_StepNumber",\n              label: "Num√©ro",\n              minWidth: 600\n            }, {\n              type: "textbox",\n              name: "wptexl_StepTitle",\n              label: "Titre",\n              minWidth: 600\n            }, {\n              type: "textbox",\n              name: "wptexl_StepText",\n              label: "Texte",\n              minWidth: 600,\n              multiline: true\n            }],\n            onsubmit: function onsubmit(e) {\n              editor.insertContent(\'[step number="\' + e.data.wptexl_StepNumber + \'" title="\' + e.data.wptexl_StepTitle + \'" text="\' + e.data.wptexl_StepText + \'"]\');\n            }\n          });\n        }\n      });\n    });\n\n    // =========================================\n    // PLUGIN : Titre avec ic√¥ne\n    // =========================================\n    tinymce.PluginManager.add("add_mce_shortcode_title_icon", function (editor, url) {\n      editor.addButton("add_mce_shortcode_title_icon", {\n        text: "Ic√¥ne & Titre",\n        title: "",\n        icon: "mce-ico mce-i-emoticons",\n        onclick: function onclick() {\n          var wptExtLinkGetSelection = tinyMCE.activeEditor.selection;\n          var wptExtLinkSelectedText = wptExtLinkGetSelection.getContent({\n            format: "text"\n          });\n          editor.windowManager.open({\n            title: "Ins√©rer un titre avec ic√¥ne",\n            body: [{\n              type: "listbox",\n              name: "wptexl_Icon",\n              label: "Ic√¥ne",\n              disabled: false,\n              values: typeof php_vars !== "undefined" && php_vars.icons ? php_vars.icons : []\n            }, {\n              type: "textbox",\n              name: "wptexl_LinkText",\n              label: "Texte",\n              value: wptExtLinkSelectedText,\n              minWidth: 600\n            }],\n            onsubmit: function onsubmit(e) {\n              editor.insertContent(\'[title_icon icon="\' + e.data.wptexl_Icon + \'" text="\' + e.data.wptexl_LinkText + \'"]\');\n            }\n          });\n        }\n      });\n    });\n    console.log("‚úÖ Churchill TinyMCE Plugins - Tous les plugins charg√©s");\n  }\n\n  // =========================================\n  // STRAT√âGIE DE CHARGEMENT\n  // =========================================\n\n  // V√©rifier imm√©diatement si TinyMCE est pr√™t\n  if (isTinyMCEReady()) {\n    initTinyMCEPlugins();\n  } else {\n    // Attendre l\'√©v√©nement WordPress\n    if (typeof jQuery !== "undefined") {\n      jQuery(document).on("tinymce-editor-init", function (event, editor) {\n        if (!window.churchillTinyMCELoaded) {\n          window.churchillTinyMCELoaded = true;\n          initTinyMCEPlugins();\n        }\n      });\n    }\n\n    // Fallback: Polling si jQuery n\'est pas disponible\n    var attempts = 0;\n    var maxAttempts = 30; // 15 secondes max\n\n    var checkInterval = setInterval(function () {\n      attempts++;\n      if (isTinyMCEReady()) {\n        clearInterval(checkInterval);\n        if (!window.churchillTinyMCELoaded) {\n          window.churchillTinyMCELoaded = true;\n          initTinyMCEPlugins();\n        }\n      } else if (attempts >= maxAttempts) {\n        clearInterval(checkInterval);\n        console.error("‚ùå TinyMCE non charg√© apr√®s " + maxAttempts + " tentatives");\n      }\n    }, 500);\n  }\n})();\n\n//# sourceURL=webpack://churchill-theme/./src/js/backoffice.js?\n}')}},__webpack_exports__={};__webpack_modules__["./src/js/backoffice.js"]()})();